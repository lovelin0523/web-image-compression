!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ImageCompression=t():e.ImageCompression=t()}(window,(function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$options=t,this.width=null,this.quality=.8,this.mimeType="png",this._init()}return i(e,[{key:"_init",value:function(){"object"==n(this.$options)||this.$options||(this.$options={}),this.$options.width&&"number"==typeof this.$options.width&&this.$options.width>0&&(this.width=this.$options.width),this.$options.quality&&"number"==typeof this.$options.quality&&this.$options.quality>0&&(this.quality=this.$options.quality),this.$options.mimeType&&"string"==typeof this.$options.mimeType&&(this.mimeType=this.$options.mimeType)}},{key:"compress",value:function(e){var t=this;return new Promise((function(o,n){var i=new FileReader;i.readAsDataURL(e);var r=new Image;i.onload=function(s){r.src=i.result;var a=document.createElement("canvas"),u=a.getContext("2d");r.onload=function(){a.width=t.width||r.width,a.height=t.width?t.width/(r.width/r.height):r.height,u.drawImage(r,0,0,a.width,a.height);var n=a.toDataURL("image/"+t.mimeType,t.quality),i=t._dataBase64toFile(n,e.name);o(i)},r.onerror=function(e){n(e)}},i.onerror=function(e){n(e)}}))}},{key:"_dataBase64toFile",value:function(e,t){for(var o=e.split(","),n=o[0].match(/:(.*?);/)[1],i=atob(o[1]),r=i.length,s=new Uint8Array(r);r--;)s[r]=i.charCodeAt(r);return new File([s],t,{type:n})}}]),e}(),s=o(1);console.log("%c感谢使用"+s.name+"，当前版本：%c v"+s.version+"\n%c"+s.name+"完全由个人开发，如果你觉得还不错的话，欢迎前往github给个star，感谢！\ngithub地址：%c"+s.github,"color:#808080;","color:#008a00","color:#808080;","color:#008a00"),e.exports=r},function(e){e.exports=JSON.parse('{"name":"web-image-compression","version":"0.0.1","description":"一款轻量且简单的web前端图片压缩插件","main":"dist/web-image-compression.js","private":false,"scripts":{"test":"echo \\"Error: no test specified\\" && exit 1","serve":"webpack --mode development","build":"webpack --mode production"},"author":"lingkai","license":"MIT","babel":{"presets":["env"],"plugins":[]},"devDependencies":{"babel-core":"^6.26.3","babel-loader":"^7.1.5","babel-preset-env":"^1.7.0","webpack":"^4.46.0","webpack-cli":"^4.5.0"},"github":"https://github.com/lovelin0523/web-image-compression"}')}])}));